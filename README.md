Components
==========

Minecraft Forkage consists of several components:

* The **core** is a modified version of Minecraft.
    * The core has a complicated build process in order to work around not being allowed to distribute Minecraft;
        several miscellaneous **build tools** are required to build it.
    * We can't distribute the source code for the core, so instead we distribute a deterministic decompiler, and **patches**
        to its output.
    * We also can't distribute the binary for the core, so instead the core's build process generates an **installer**
        which re-generates it at runtime, based on a bytecode patch. 
* The **packer** takes the core (either one you built from this repository, or one re-generated by the installer)
    and a list of mods, and outputs a **modpack** JAR.
* Modpack JARs are modified versions of the game, which *should* (barring bugs) be completely standalone.
    * They cannot be distributed either. Instead, modpack creators are recommended to distribute packer configuration files.

Core build tools
================

This component can be canonically built by running "ant compile-buildtools" in the core/ directory, which will yield the file
core/build/BuildTools.jar.

As a convenience for editing, the directory core-BuildTools/ may be imported as a project into Eclipse. It should require no
further setup.

Note: the Eclipse project references a bundled copy of Ant 1.9.4, but the build script will use your installed version of Ant.



Core
====



Workspace setup
===============

To set up a workspace for developing Minecraft Forkage:

0. If you're on Windows, install Cygwin.

1. Clone this repository.



3. Run `ant extractsrc` and wait. You can set up the Eclipse workspace while this completes.
  You need an Internet connection for this step.

4. Unzip `eclipse-workspace.zip`. This should create `eclipse/` in the  repository root.
   If you unzipped to a subdirectory by mistake, then move the `eclipse` directory to the
   repository root.

5. Open the Eclipse workspace you just unzipped (in `eclipse/`).
  Note: If `ant` is still running, and you open the MinecraftForkage project, you might need
  to close and reopen the project in Eclipse after it finishes in order for Eclipse to detect the source files.

6. You are now set up to develop in Eclipse.
   There are predefined "MCF Client" and "MCF Server" run configurations. Note that they
   will not be in the drop-down menu - you will need to select them in the run configurations
   dialog the first time you use them.



Libraries
=========

External libraries for both Minecraft and Forge will be downloaded to `libraries/` when you run
any makefile target (TODO: make it an actual target, instead of running automatically). The folder
structure is not preserved - all the library JARs are simply dumped into that directory.
Natives will be extracted to `libraries/natives/`.


Installer
=========

To generate the installer, run `make build/installer.jar` after letting Eclipse compile the main
Minecraft Forkage project.