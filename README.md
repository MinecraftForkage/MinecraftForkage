Components
==========

Minecraft Forkage consists of several components:

* The **core** is a modified version of Minecraft.
    * The core has a complicated build process in order to work around not being allowed to distribute Minecraft;
        several miscellaneous **build tools** are required to build it.
    * We can't distribute the source code for the core, so instead we distribute a deterministic decompiler, and **patches**
        to its output.
    * We also can't distribute the binary for the core, so instead the core's build process generates an **installer**
        which re-generates it at runtime, based on a bytecode patch. 
* The **packer** takes the core (either one you built from this repository, or one re-generated by the installer)
    and a list of mods, and outputs a **modpack** JAR.
* Modpack JARs are modified versions of the game, which *should* (barring bugs) be completely standalone.
    * They cannot be distributed either. Instead, modpack creators are recommended to distribute packer configuration files.

Core build tools
================

This component resides in the `core-BuildTools/` directory.

It can be built by running `ant` in that directory, which will yield the file `core-BuildTools/build/BuildTools.jar`.

As a convenience for editing, the directory `core-BuildTools/` may be imported as a project into Eclipse. It should require no
further setup.

Note: the Eclipse project references a bundled copy of Ant 1.9.4, but the Ant build script will use your installed version of Ant.



Core
====

This component resides in the `core/` directory. This directory may be imported into Eclipse as a project.

The build process is complex by necessity, since we are not allowed to distribute the original or modified Minecraft code --
only patches to it. This means we may not distribute the full source code for the core (although it can be generated) nor the
full binary.

To generate the source code, run `ant extractsrc` in the `core/` directory.
You need an Internet connection to run this step for the first time, as it downloads Minecraft and several libraries.

To generate the binary, run `ant recompile` in the `core/` directory.

To generate the installer, run `ant make-installer` in the `core/` directory. The installer contains only bytecode patches to
Minecraft, as well as new code, and can be distributed. End-users can run the installer to re-generate the binary.

Note: the binary produced by the installer is not expected to be byte-wise identical to the binary produced by "ant recompile".

Note: the core is compiled as Java 1.6.

Note: any modifications you make to files in the vanilla-src *will be lost* next time they are regenerated from patches (with
`ant extractsrc`)






Libraries
=========

External libraries for both Minecraft and Forge will be downloaded to `core/libraries/` when you run `ant extractsrc`.
The folder structure is not preserved - all the library JARs are simply dumped into that directory.
Natives will be extracted to `core/libraries/natives/`.

